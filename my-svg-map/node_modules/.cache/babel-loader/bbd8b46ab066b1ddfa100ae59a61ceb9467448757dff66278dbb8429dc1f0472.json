{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-46f53af0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Selected Countries:\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"inline\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"display\": \"flex\",\n    \"text-align\": \"center\",\n    \"align-items\": \"center\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"Hovered Country:\"), /*#__PURE__*/_createElementVNode(\"h3\", {\n  style: {\n    \"color\": \"black\"\n  },\n  id: \"hover-value\"\n}, \"Move your mouse\")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  ref: \"chart\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", null, null, -1 /* HOISTED */));\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.zoomIn && _ctx.zoomIn(...args))\n  }, \"+\"), _createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.zoomOut && _ctx.zoomOut(...args))\n  }, \"-\"), _hoisted_1, _createElementVNode(\"button\", {\n    class: \"button-container\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.clearSelection && _ctx.clearSelection(...args))\n  }, \"Clear Selection\"), _createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.selectedStates, state => {\n    return _openBlock(), _createElementBlock(\"h4\", {\n      key: state.id\n    }, _toDisplayString(state.id) + \": \" + _toDisplayString(state.title), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _hoisted_4]), _createElementVNode(\"div\", _hoisted_5, _hoisted_7, 512 /* NEED_PATCH */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","style","id","ref","_hoisted_6","class","onClick","_cache","args","_ctx","zoomIn","zoomOut","_hoisted_1","clearSelection","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","$setup","selectedStates","state","key","_toDisplayString","title","_hoisted_4","_hoisted_5","_hoisted_7"],"sources":["/home/lasmas/GitHub/PROYECTOBIO/my-svg-map/src/components/SVGMap.vue"],"sourcesContent":["<template>\n   <button class=\"button-zoom\" @click=\"zoomIn\">+</button>\n   <button class=\"button-zoom\" @click=\"zoomOut\">-</button>\n   <br />\n   <button class=\"button-container\" @click=\"clearSelection\">Clear Selection</button>\n \n   <div>\n     <h2>Selected Countries:</h2>\n     <div style=\"display:inline\">\n       <h4 v-for=\"state in selectedStates\" :key=\"state.id\">\n         {{ state.id }}: {{ state.title }}\n       </h4>\n     </div>\n     <div style=\"display:flex; text-align: center; align-items: center;\">\n       <h2>Hovered Country:</h2>\n       <h3 style=\"color: black\" id=\"hover-value\">Move your mouse</h3>\n     </div>\n   </div>\n   <div ref=\"chart\">\n     <svg></svg>\n   </div>\n </template>\n \n <script>\n import { ref } from \"vue\";\n import * as d3 from \"d3\";\n \n export default {\n   setup() {\n     const selectedStates = ref([]);\n     return { selectedStates };\n   },\n   mounted() {\n     const svg = d3\n       .select(this.$refs.chart)\n       .append(\"svg\")\n       .attr(\"width\", \"1009.6727\")\n       .attr(\"height\", \"665.96301\");\n \n     d3.xml(require(\"@/assets/world.svg\"))\n       .then((data) => {\n         const importedNode = document.importNode(data.documentElement, true);\n         svg.node().appendChild(importedNode);\n \n         const paths = svg.selectAll(\"path\");\n \n         paths\n           .on(\"click\", changeColorOnClick)\n           .on(\"mouseover\", changeColorOnHover)\n           .on(\"mouseout\", restoreColorOnHover);\n       })\n       .catch((error) => {\n         console.error(error);\n       });\n   },\n };\n \n function changeColorOnClick(event) {\n   const path = event.target;\n \n   if (path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"black\";\n     path.classList.remove(\"selectedPath\");\n     selectedStates.value = selectedStates.value.filter(\n       (state) => state.id !== path.id\n     );\n   } else {\n     path.style.fill = \"green\";\n     path.classList.add(\"selectedPath\");\n     selectedStates.value.push({ id: path.id, title: path.getAttribute(\"title\") });\n     console.log(selectedStates.value);\n   }\n }\n \n function changeColorOnHover(event) {\n   const path = event.target;\n   if (!path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"purple\";\n     document.getElementById(\"hover-value\").textContent = path.getAttribute(\n       \"title\"\n     );\n   }\n }\n \n function restoreColorOnHover(event) {\n   const path = event.target;\n \n   if (!path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"black\";\n   }\n }\n </script>\n\n<style scoped>\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n}\n\n.logo {\n   height: 6em;\n   padding: 1.5em;\n   will-change: filter;\n}\n\n.logo:hover {\n   filter: drop-shadow(0 0 2em #646cffaa);\n}\n\n.logo.vue:hover {\n   filter: drop-shadow(0 0 2em #42b883aa);\n}\n\n.map-container {\n   width: 100vw;\n   /* ancho al 100% de la ventana */\n   /* height: 100vh; altura al 100% de la ventana */\n   display: flex;\n   justify-content: center;\n   /* centro horizontal */\n   align-items: center;\n   /* centro vertical */\n}\n\n.button-container {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: fit-content;\n   height: fit-content;\n}\n\n.button-zoom {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: 2%;\n   height: 2%;\n}\n\n.draggeable {\n   cursor: move;\n}\n\n.selected {\n   fill: green;\n}\n\npath {\n   fill: black;\n   transition: fill 0.5s ease-in-out;\n}\n\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n</style>\n"],"mappings":";;gEAGGA,mBAAA,CAAM;gEAIJA,mBAAA,CAA4B,YAAxB,qBAAmB;;EAClBC,KAAsB,EAAtB;IAAA;EAAA;AAAsB;gEAK3BD,mBAAA,CAGM;EAHDC,KAA8D,EAA9D;IAAA;IAAA;IAAA;EAAA;AAA8D,I,aACjED,mBAAA,CAAyB,YAArB,kBAAgB,G,aACpBA,mBAAA,CAA8D;EAA1DC,KAAoB,EAApB;IAAA;EAAA,CAAoB;EAACC,EAAE,EAAC;GAAc,iBAAe,E;;EAGxDC,GAAG,EAAC;AAAO;gEACdH,mBAAA,CAAW;oBAAXI,UAAW,C;;6DAlBbJ,mBAAA,CAAsD;IAA9CK,KAAK,EAAC,aAAa;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,MAAA,IAAAD,IAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,GAAC,GAC7CR,mBAAA,CAAuD;IAA/CK,KAAK,EAAC,aAAa;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAE,OAAA,IAAAF,IAAA,CAAAE,OAAA,IAAAH,IAAA,CAAO;KAAE,GAAC,GAC9CI,UAAM,EACNZ,mBAAA,CAAiF;IAAzEK,KAAK,EAAC,kBAAkB;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAI,cAAA,IAAAJ,IAAA,CAAAI,cAAA,IAAAL,IAAA,CAAc;KAAE,iBAAe,GAExER,mBAAA,CAWM,cAVJc,UAA4B,EAC5Bd,mBAAA,CAIM,OAJNe,UAIM,I,kBAHJC,mBAAA,CAEKC,SAAA,QAAAC,WAAA,CAFeC,MAAA,CAAAC,cAAc,EAAvBC,KAAK;yBAAhBL,mBAAA,CAEK;MAFgCM,GAAG,EAAED,KAAK,CAACnB;wBAC3CmB,KAAK,CAACnB,EAAE,IAAG,IAAE,GAAAqB,gBAAA,CAAGF,KAAK,CAACG,KAAK;oCAGlCC,UAGM,C,GAERzB,mBAAA,CAEM,OAFN0B,UAEM,EAAAC,UAAA,wB"},"metadata":{},"sourceType":"module","externalDependencies":[]}