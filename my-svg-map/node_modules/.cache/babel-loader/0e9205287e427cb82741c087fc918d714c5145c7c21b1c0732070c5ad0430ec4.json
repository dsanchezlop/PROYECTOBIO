{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/world.svg';\nconst _withScopeId = n => (_pushScopeId(\"data-v-46f53af0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \" Selected Countries :\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"inline\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"flex\",\n    \"text-align\": \"center\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Hovered Country:\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"map-container\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": _imports_0\n}, null, -1 /* HOISTED */));\nconst _hoisted_9 = [_hoisted_8];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: $setup.zoomIn\n  }, \"+\"), _createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: $setup.zoomOut\n  }, \"-\"), _hoisted_1, _createElementVNode(\"button\", {\n    class: \"button-container\",\n    onClick: $setup.clearSelection\n  }, \" Clear Selection \"), _createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.selectedStates, state => {\n    return _openBlock(), _createElementBlock(\"h4\", {\n      style: {\n        \"display\": \"inline\",\n        \"margin\": \"10px\"\n      },\n      key: state.id\n    }, _toDisplayString(state.id) + \" : \" + _toDisplayString(state.title), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"h3\", _hoisted_6, _toDisplayString($setup.hoverValue), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" intentar que los path sean devuelto por la API \"), (_openBlock(), _createElementBlock(\"svg\", {\n    \"xmlns:mapsvg\": \"http://mapsvg.com\",\n    version: \"1.1\",\n    id: \"svg2\",\n    ref: \"svgMap\",\n    \"mapsvg:geoViewBox\": \"68.184010 37.084109 97.418146 6.753659\",\n    width: \"1009.6727\",\n    height: \"665.96301\",\n    style: _normalizeStyle({\n      transform: `scale(${$setup.zoomLevel})`\n    }),\n    onMouseover: $setup.changeHoverValue,\n    onClick: $setup.setSelectedPath\n  }, _hoisted_9, 36 /* STYLE, HYDRATE_EVENTS */))])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","_createElementVNode","style","class","_hoisted_8","onClick","$setup","zoomIn","zoomOut","_hoisted_1","clearSelection","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","selectedStates","state","key","id","_toDisplayString","title","_hoisted_4","_hoisted_5","_hoisted_6","hoverValue","_hoisted_7","_createCommentVNode","version","ref","width","height","_normalizeStyle","transform","zoomLevel","onMouseover","changeHoverValue","setSelectedPath"],"sources":["/home/lasmas/GitHub/PROYECTOBIO/my-svg-map/src/components/SVGMap.vue"],"sourcesContent":["<template>\n   <button class=\"button-zoom\" @click=\"zoomIn\">+</button>\n   <button class=\"button-zoom\" @click=\"zoomOut\">-</button>\n   <br>\n   <button class=\"button-container\" @click=\"clearSelection\"> Clear Selection </button>\n\n   <div>\n      <h2> Selected Countries :</h2>\n      <div style=\"display:inline\">\n         <h4 style=\"display:inline; margin:10px;\" v-for=\"state in selectedStates\" :key=\"state.id\"> {{ state.id }} :\n            {{ state.title }} </h4>\n      </div>\n      <div style=\"display:flex; text-align: center; align-items: center;\">\n         <h2>Hovered Country:</h2>\n         <h3 style=\"color: black\"> {{ hoverValue }} </h3>\n      </div>\n   </div>\n   <div class=\"map-container\"\n    >\n      <!-- intentar que los path sean devuelto por la API -->\n      <svg xmlns:mapsvg=\"http://mapsvg.com\" version=\"1.1\" id=\"svg2\" ref=\"svgMap\"\n         mapsvg:geoViewBox=\"68.184010 37.084109 97.418146 6.753659\" width=\"1009.6727\" height=\"665.96301\"\n         :style=\"{ transform: `scale(${zoomLevel})` }\" @mouseover=\"changeHoverValue\" @click=\"setSelectedPath\"\n        >\n\t\t<use xlink:href=\"@/assets/world.svg\"></use>\n         \n      </svg>\n\n\n   </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst hoverValue = ref(\"Mouse your mouse\");\nconst selectedStates = ref([]);\nconst zoomLevel = ref(1);\nconst dragInfo = ref(null);\n\n\nfunction clearSelection() {\n   // Vaciar el array de países seleccionados\n   selectedStates.value.splice(0);\n\n   // Deseleccionar todos los elementos del DOM que tengan la clase \"selectedPath\"\n   const selectedPaths = document.querySelectorAll(\".selectedPath\");\n   selectedPaths.forEach(element => {\n      element.classList.remove(\"selectedPath\");\n   });\n}\n\n//Adds to the path array a\nfunction setSelectedPath(hvalue) {\n   if (hvalue.target.attributes[\"title\"]) {\n      if (hvalue != null && hvalue.target != null) {\n         // Verificar si el valor ya está seleccionado\n         const title = hvalue.target.attributes[\"title\"].value;\n         const id = hvalue.target.attributes[\"id\"].value;\n         const isSelected = selectedStates.value.some(item => item.id === id);\n\n         if (isSelected) {\n            // Si el valor ya está seleccionado, eliminarlo del array y eliminar la clase\n            selectedStates.value = selectedStates.value.filter(item => item.id !== id);\n            hvalue.target.classList.remove(\"selectedPath\");\n         } else {\n            // Si el valor no está seleccionado, agregarlo al array y agregar la clase\n            selectedStates.value.push({ id, title });\n            hvalue.target.classList.add(\"selectedPath\");\n         }\n      }\n   }\n}\n\n\nfunction changeHoverValue(hvalue) {\n   if (hvalue != null && hvalue.target != null) {\n      let title = hvalue.target.attributes[\"title\"];\n      if (title != null) {\n         hoverValue.value = title.value;\n      }\n   }\n}\n\nfunction zoomIn() {\n   zoomLevel.value /= 0.90;\n}\n\nfunction zoomOut() {\n   if (zoomLevel.value <= 0.6) {\n\n   }\n   else {\n      zoomLevel.value *= 0.90;\n   }\n}\n\nfunction getMousePosition(evt) {\n   var CTM = svg.getScreenCTM();\n   return {\n      x: (evt.clientX - CTM.e) / CTM.a,\n      y: (evt.clientY - CTM.f) / CTM.d\n   };\n}\n\n// function startDrag(evt) {\n//   // store the initial mouse position and map position\n//   dragInfo.value = {\n//     x: evt.clientX,\n//     y: evt.clientY,\n//     mapX: parseFloat($refs.svgMap.style.left) || 0,\n//     mapY: parseFloat($refs.svgMap.style.top) || 0,\n//   };\n//   // set cursor to grabbing\n//   evt.target.style.cursor = 'grabbing';\n// }\n\n// function drag(evt) {\n//   if (dragInfo.value) {\n//     // calculate the offset between the current mouse position and the initial mouse position\n//     const dx = evt.clientX - dragInfo.value.x;\n//     const dy = evt.clientY - dragInfo.value.y;\n//     // set the new map position based on the offset\n//     $refs.svgMap.style.left = `${dragInfo.value.mapX + dx}px`;\n//     $refs.svgMap.style.top = `${dragInfo.value.mapY + dy}px`;\n//   }\n// }\n\n// function endDrag(evt) {\n//   dragInfo.value = null;\n//   evt.target.style.cursor = 'grab';\n// }\n\n\n\n</script>\n\n<style scoped>\n@keyframes slowchange {\n   to {\n      fill: indianred;\n   }\n}\n\n@keyframes hoverChange {\n   to {\n      fill: purple;\n   }\n}\n\npath {\n   fill: black;\n}\n\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n}\n\n.logo {\n   height: 6em;\n   padding: 1.5em;\n   will-change: filter;\n}\n\n.logo:hover {\n   filter: drop-shadow(0 0 2em #646cffaa);\n}\n\n.logo.vue:hover {\n   filter: drop-shadow(0 0 2em #42b883aa);\n}\n\n.map-container {\n   width: 100vw;\n   /* ancho al 100% de la ventana */\n   /* height: 100vh; altura al 100% de la ventana */\n   display: flex;\n   justify-content: center;\n   /* centro horizontal */\n   align-items: center;\n   /* centro vertical */\n}\n\n.button-container {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: fit-content;\n   height: fit-content;\n}\n\n.button-zoom {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: 2%;\n   height: 2%;\n}\n\n.draggeable {\n   cursor: move;\n}\n</style>\n"],"mappings":";OAwBOA,UAA+B;;gEArBnCC,mBAAA,CAAI;gEAIDA,mBAAA,CAA8B,YAA1B,uBAAqB;;EACpBC,KAAsB,EAAtB;IAAA;EAAA;AAAsB;;EAItBA,KAA8D,EAA9D;IAAA;IAAA;IAAA;EAAA;AAA8D;gEAChED,mBAAA,CAAyB,YAArB,kBAAgB;;EAChBC,KAAoB,EAApB;IAAA;EAAA;AAAoB;;EAGzBC,KAAK,EAAC;AAAe;gEAO3BF,mBAAA,CAA2C;EAAtC,YAA+B,EAA/BD;AAA+B;oBAApCI,UAA2C,C;;6DAvB1CH,mBAAA,CAAsD;IAA9CE,KAAK,EAAC,aAAa;IAAEE,OAAK,EAAEC,MAAA,CAAAC;KAAQ,GAAC,GAC7CN,mBAAA,CAAuD;IAA/CE,KAAK,EAAC,aAAa;IAAEE,OAAK,EAAEC,MAAA,CAAAE;KAAS,GAAC,GAC9CC,UAAI,EACJR,mBAAA,CAAmF;IAA3EE,KAAK,EAAC,kBAAkB;IAAEE,OAAK,EAAEC,MAAA,CAAAI;KAAgB,mBAAiB,GAE1ET,mBAAA,CAUM,cATHU,UAA8B,EAC9BV,mBAAA,CAGM,OAHNW,UAGM,I,kBAFHC,mBAAA,CAC0BC,SAAA,QAAAC,WAAA,CAD+BT,MAAA,CAAAU,cAAc,EAAvBC,KAAK;yBAArDJ,mBAAA,CAC0B;MADtBX,KAAoC,EAApC;QAAA;QAAA;MAAA,CAAoC;MAAkCgB,GAAG,EAAED,KAAK,CAACE;wBAAQF,KAAK,CAACE,EAAE,IAAG,KACrG,GAAAC,gBAAA,CAAGH,KAAK,CAACI,KAAK;oCAEpBpB,mBAAA,CAGM,OAHNqB,UAGM,GAFHC,UAAyB,EACzBtB,mBAAA,CAAgD,MAAhDuB,UAAgD,EAAAJ,gBAAA,CAAnBd,MAAA,CAAAmB,UAAU,iB,KAG7CxB,mBAAA,CAYM,OAZNyB,UAYM,GAVHC,mBAAA,oDAAuD,G,cACvDd,mBAAA,CAMM;IAND,cAAY,EAAC,mBAAmB;IAACe,OAAO,EAAC,KAAK;IAACT,EAAE,EAAC,MAAM;IAACU,GAAG,EAAC,QAAQ;IACvE,mBAAiB,EAAC,wCAAwC;IAACC,KAAK,EAAC,WAAW;IAACC,MAAM,EAAC,WAAW;IAC9F7B,KAAK,EAAA8B,eAAA;MAAAC,SAAA,WAAwB3B,MAAA,CAAA4B,SAAS;IAAA;IAAQC,WAAS,EAAE7B,MAAA,CAAA8B,gBAAgB;IAAG/B,OAAK,EAAEC,MAAA,CAAA+B"},"metadata":{},"sourceType":"module","externalDependencies":[]}