{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport * as d3 from \"d3\";\nconst selectedStates = ref([]);\nconst zoom = d3.zoom();\nexport default {\n  mounted() {\n    const svg = d3.select(this.$refs.chart).append(\"svg\").attr(\"width\", \"1009.6727\").attr(\"height\", \"665.96301\");\n    let zoomLevel = 1;\n    let zoomCenter = [0, 0];\n    // Aquí es donde se carga el archivo world.svg y se agrega al SVG\n    d3.xml(require(\"@/assets/world.svg\")).then(data => {\n      const importedNode = document.importNode(data.documentElement, true);\n      svg.node().appendChild(importedNode);\n\n      // Obtener todos los elementos \"path\" del SVG\n      const paths = svg.selectAll('path');\n\n      // Asignar las funciones \"changeColorOnClick\", \"changeColorOnHover\" y \"restoreColorOnHover\" a los eventos correspondientes de cada elemento \"path\"\n      paths.on('click', changeColorOnClick).on('mouseover', changeColorOnHover).on('mouseout', restoreColorOnHover);\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n};\n\n// Función para cambiar el color de fondo de un elemento \"path\" a verde al hacer clic en él\nfunction changeColorOnClick(event) {\n  const path = event.target;\n  if (path.classList.contains('selectedPath')) {\n    // si ya está seleccionado, se quita el color\n    path.style.fill = 'black';\n    path.classList.remove('selectedPath');\n    // se elimina el país de la lista de países seleccionados\n    selectedStates.value = selectedStates.value.filter(state => state.id !== path.id);\n  } else {\n    // si no está seleccionado, se agrega el color\n    path.style.fill = 'green';\n    path.classList.add('selectedPath');\n    // se agrega el país a la lista de países seleccionados\n    selectedStates.value.push({\n      id: path.id,\n      title: path.getAttribute('title')\n    });\n    console.log(selectedStates.value);\n  }\n}\n\n// Función para cambiar el color de fondo de un elemento \"path\" a púrpura al pasar el mouse por encima\nfunction changeColorOnHover(event) {\n  const path = event.target;\n  if (!path.classList.contains('selectedPath')) {\n    path.style.fill = 'purple';\n    document.getElementById(\"hover-value\").textContent = path.getAttribute('title');\n  }\n}\n\n// Función para restaurar el color de fondo de un elemento \"path\" al dejar de pasar el mouse por encima\nfunction restoreColorOnHover(event) {\n  const path = event.target;\n  if (!path.classList.contains('selectedPath')) {\n    path.style.fill = 'black';\n  }\n}\nfunction zoomIn() {\n  zoomLevel += 0.2;\n  const svg = d3.select('svg');\n  const width = svg.attr('width');\n  const height = svg.attr('height');\n  zoomCenter = [width / 2, height / 2];\n  svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity.translate(zoomCenter[0], zoomCenter[1]).scale(zoomLevel).translate(-zoomCenter[0], -zoomCenter[1]));\n}\nfunction zoomOut() {\n  zoomLevel -= 0.2;\n  const svg = d3.select('svg');\n  const width = svg.attr('width');\n  const height = svg.attr('height');\n  zoomCenter = [width / 2, height / 2];\n  svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity.translate(zoomCenter[0], zoomCenter[1]).scale(zoomLevel).translate(-zoomCenter[0], -zoomCenter[1]));\n}","map":{"version":3,"names":["ref","d3","selectedStates","zoom","mounted","svg","select","$refs","chart","append","attr","zoomLevel","zoomCenter","xml","require","then","data","importedNode","document","importNode","documentElement","node","appendChild","paths","selectAll","on","changeColorOnClick","changeColorOnHover","restoreColorOnHover","catch","error","console","event","path","target","classList","contains","style","fill","remove","value","filter","state","id","add","push","title","getAttribute","log","getElementById","textContent","zoomIn","width","height","transition","duration","call","transform","zoomIdentity","translate","scale","zoomOut"],"sources":["/home/lasmas/GitHub/PROYECTOBIO/my-svg-map/src/components/SVGMap.vue"],"sourcesContent":["<template>\n   <button class=\"button-zoom\" @click=\"zoomIn\">+</button>\n   <button class=\"button-zoom\" @click=\"zoomOut\">-</button>\n   <br>\n   <button class=\"button-container\" @click=\"clearSelection\"> Clear Selection </button>\n\n   <div>\n      <h2>Selected Countries:</h2>\n      <div style=\"display:inline\">\n         <h4 v-for=\"state in selectedStates\" :key=\"state.id\">\n            {{ state.id }}: {{ state.title }}\n         </h4>\n\n      </div>\n      <div style=\"display:flex; text-align: center; align-items: center;\">\n         <h2>Hovered Country:</h2>\n         <h3 style=\"color: black\" id=\"hover-value\">Move your mouse</h3>\n      </div>\n   </div>\n   <div ref=\"chart\">\n      <svg></svg>\n   </div>\n</template>\n\n\n<script>\nimport { ref } from 'vue';\nimport * as d3 from \"d3\";\n\nconst selectedStates = ref([]);\nconst zoom = d3.zoom();\nexport default {\n   mounted() {\n      const svg = d3.select(this.$refs.chart)\n         .append(\"svg\")\n         .attr(\"width\", \"1009.6727\")\n         .attr(\"height\", \"665.96301\");\n\n         let zoomLevel = 1;\n         let zoomCenter = [0, 0];\n      // Aquí es donde se carga el archivo world.svg y se agrega al SVG\n      d3.xml(require(\"@/assets/world.svg\"))\n         .then(data => {\n            const importedNode = document.importNode(data.documentElement, true);\n            svg.node().appendChild(importedNode);\n\n            // Obtener todos los elementos \"path\" del SVG\n            const paths = svg.selectAll('path');\n\n            // Asignar las funciones \"changeColorOnClick\", \"changeColorOnHover\" y \"restoreColorOnHover\" a los eventos correspondientes de cada elemento \"path\"\n            paths\n               .on('click', changeColorOnClick)\n               .on('mouseover', changeColorOnHover)\n               .on('mouseout', restoreColorOnHover);\n         })\n         .catch(error => {\n            console.error(error);\n         });\n   },\n}\n\n// Función para cambiar el color de fondo de un elemento \"path\" a verde al hacer clic en él\nfunction changeColorOnClick(event) {\n   const path = event.target;\n\n   if (path.classList.contains('selectedPath')) {\n      // si ya está seleccionado, se quita el color\n      path.style.fill = 'black';\n      path.classList.remove('selectedPath');\n      // se elimina el país de la lista de países seleccionados\n      selectedStates.value = selectedStates.value.filter(state => state.id !== path.id);\n   } else {\n      // si no está seleccionado, se agrega el color\n      path.style.fill = 'green';\n      path.classList.add('selectedPath');\n      // se agrega el país a la lista de países seleccionados\n      selectedStates.value.push({ id: path.id, title: path.getAttribute('title') });\n      console.log(selectedStates.value);\n   }\n}\n\n\n\n// Función para cambiar el color de fondo de un elemento \"path\" a púrpura al pasar el mouse por encima\nfunction changeColorOnHover(event) {\n   const path = event.target;\n   if (!path.classList.contains('selectedPath')) {\n      path.style.fill = 'purple';\n      document.getElementById(\"hover-value\").textContent = path.getAttribute('title');\n   }\n}\n\n// Función para restaurar el color de fondo de un elemento \"path\" al dejar de pasar el mouse por encima\nfunction restoreColorOnHover(event) {\n   const path = event.target;\n\n   if (!path.classList.contains('selectedPath')) {\n      path.style.fill = 'black';\n   }\n}\n\nfunction zoomIn() {\n  zoomLevel += 0.2;\n  const svg = d3.select('svg');\n  const width = svg.attr('width');\n  const height = svg.attr('height');\n  zoomCenter = [width / 2, height / 2];\n  svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity.translate(zoomCenter[0], zoomCenter[1]).scale(zoomLevel).translate(-zoomCenter[0], -zoomCenter[1]));\n}\n\nfunction zoomOut() {\n  zoomLevel -= 0.2;\n  const svg = d3.select('svg');\n  const width = svg.attr('width');\n  const height = svg.attr('height');\n  zoomCenter = [width / 2, height / 2];\n  svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity.translate(zoomCenter[0], zoomCenter[1]).scale(zoomLevel).translate(-zoomCenter[0], -zoomCenter[1]));\n}\n\n</script>\n\n<style scoped>\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n}\n\n.logo {\n   height: 6em;\n   padding: 1.5em;\n   will-change: filter;\n}\n\n.logo:hover {\n   filter: drop-shadow(0 0 2em #646cffaa);\n}\n\n.logo.vue:hover {\n   filter: drop-shadow(0 0 2em #42b883aa);\n}\n\n.map-container {\n   width: 100vw;\n   /* ancho al 100% de la ventana */\n   /* height: 100vh; altura al 100% de la ventana */\n   display: flex;\n   justify-content: center;\n   /* centro horizontal */\n   align-items: center;\n   /* centro vertical */\n}\n\n.button-container {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: fit-content;\n   height: fit-content;\n}\n\n.button-zoom {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: 2%;\n   height: 2%;\n}\n\n.draggeable {\n   cursor: move;\n}\n\n.selected {\n   fill: green;\n}\n\npath {\n   fill: black;\n   transition: fill 0.5s ease-in-out;\n}\n\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}