{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-46f53af0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \" Selected Countries :\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"inline\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"display\": \"flex\",\n    \"text-align\": \"center\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Hovered Country:\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  style: {\n    \"color\": \"black\"\n  }\n};\nconst _hoisted_7 = {\n  ref: \"chart\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.zoomIn && _ctx.zoomIn(...args))\n  }, \"+\"), _createElementVNode(\"button\", {\n    class: \"button-zoom\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.zoomOut && _ctx.zoomOut(...args))\n  }, \"-\"), _hoisted_1, _createElementVNode(\"button\", {\n    class: \"button-container\",\n    onClick: _cache[2] || (_cache[2] = (...args) => _ctx.clearSelection && _ctx.clearSelection(...args))\n  }, \" Clear Selection \"), _createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.selectedStates, state => {\n    return _openBlock(), _createElementBlock(\"h4\", {\n      style: {\n        \"display\": \"inline\",\n        \"margin\": \"10px\"\n      },\n      key: state.id\n    }, _toDisplayString(state.id) + \" : \" + _toDisplayString(state.title), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"h3\", _hoisted_6, _toDisplayString(_ctx.hoverValue), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(), _createElementBlock(\"svg\", {\n    style: _normalizeStyle({\n      transform: `scale(${_ctx.zoomLevel})`\n    }),\n    onMouseover: _cache[3] || (_cache[3] = (...args) => _ctx.changeHoverValue && _ctx.changeHoverValue(...args)),\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.setSelectedPath && $options.setSelectedPath(...args))\n  }, null, 36 /* STYLE, HYDRATE_EVENTS */))], 512 /* NEED_PATCH */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","style","ref","class","onClick","_cache","args","_ctx","zoomIn","zoomOut","_hoisted_1","clearSelection","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","selectedStates","state","key","id","_toDisplayString","title","_hoisted_4","_hoisted_5","_hoisted_6","hoverValue","_hoisted_7","_normalizeStyle","transform","zoomLevel","onMouseover","changeHoverValue","$options","setSelectedPath"],"sources":["/home/lasmas/GitHub/PROYECTOBIO/my-svg-map/src/components/SVGMap.vue"],"sourcesContent":["<template>\n   <button class=\"button-zoom\" @click=\"zoomIn\">+</button>\n   <button class=\"button-zoom\" @click=\"zoomOut\">-</button>\n   <br>\n   <button class=\"button-container\" @click=\"clearSelection\"> Clear Selection </button>\n\n   <div>\n      <h2> Selected Countries :</h2>\n      <div style=\"display:inline\">\n         <h4 style=\"display:inline; margin:10px;\" v-for=\"state in selectedStates\" :key=\"state.id\"> {{ state.id }} :\n            {{ state.title }} </h4>\n      </div>\n      <div style=\"display:flex; text-align: center; align-items: center;\">\n         <h2>Hovered Country:</h2>\n         <h3 style=\"color: black\"> {{ hoverValue }} </h3>\n      </div>\n   </div>\n   <div ref=\"chart\">\n      <svg\n        :style=\"{ transform: `scale(${zoomLevel})` }\" @mouseover=\"changeHoverValue\" @click=\"setSelectedPath\"\n        >\n      </svg>\n\n\n   </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport * as d3 from \"d3\";\n\nexport default {\n  mounted() {\n    const svg = d3.select(this.$refs.chart)\n      .append(\"svg\")\n      .attr(\"width\", \"1009.6727\")\n      .attr(\"height\", \"665.96301\");\n\n    // Aquí es donde se carga el archivo world.svg y se agrega al SVG\n    d3.xml(require(\"@/assets/world.svg\"))\n      .then(data => {\n        const importedNode = document.importNode(data.documentElement, true);\n        svg.node().appendChild(importedNode);\n\n        // Obtener todos los elementos \"path\" del SVG\n        const paths = svg.selectAll('path');\n\n        // Asignar la función \"setSelectedPath\" al evento \"click\" de cada elemento \"path\"\n        paths.on('click', setSelectedPath);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  },\n  methods: {\n    setSelectedPath(event) {\n      const selectedPath = event.target;\n      const selected = selectedPath.classList.contains('selected');\n\n      // Si el path ya está seleccionado, lo deseleccionamos\n      if (selected) {\n        selectedPath.classList.remove('selected');\n      } else {\n        selectedPath.classList.add('selected');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\npath {\n  fill: black;\n  transition: fill 0.5s ease;\n}\n\n.selected {\n  fill: green !important;\n}\n\n@keyframes selection {\n  from {\n    fill: black;\n  }\n  to {\n    fill: green;\n  }\n}\n\n.selected.animate {\n  animation-name: selection;\n  animation-duration: 0.5s;\n}\n</style>"],"mappings":";;gEAGGA,mBAAA,CAAI;gEAIDA,mBAAA,CAA8B,YAA1B,uBAAqB;;EACpBC,KAAsB,EAAtB;IAAA;EAAA;AAAsB;;EAItBA,KAA8D,EAA9D;IAAA;IAAA;IAAA;EAAA;AAA8D;gEAChED,mBAAA,CAAyB,YAArB,kBAAgB;;EAChBC,KAAoB,EAApB;IAAA;EAAA;AAAoB;;EAGzBC,GAAG,EAAC;AAAO;;6DAhBhBF,mBAAA,CAAsD;IAA9CG,KAAK,EAAC,aAAa;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,MAAA,IAAAD,IAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,GAAC,GAC7CN,mBAAA,CAAuD;IAA/CG,KAAK,EAAC,aAAa;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAE,OAAA,IAAAF,IAAA,CAAAE,OAAA,IAAAH,IAAA,CAAO;KAAE,GAAC,GAC9CI,UAAI,EACJV,mBAAA,CAAmF;IAA3EG,KAAK,EAAC,kBAAkB;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAI,cAAA,IAAAJ,IAAA,CAAAI,cAAA,IAAAL,IAAA,CAAc;KAAE,mBAAiB,GAE1EN,mBAAA,CAUM,cATHY,UAA8B,EAC9BZ,mBAAA,CAGM,OAHNa,UAGM,I,kBAFHC,mBAAA,CAC0BC,SAAA,QAAAC,WAAA,CAD+BT,IAAA,CAAAU,cAAc,EAAvBC,KAAK;yBAArDJ,mBAAA,CAC0B;MADtBb,KAAoC,EAApC;QAAA;QAAA;MAAA,CAAoC;MAAkCkB,GAAG,EAAED,KAAK,CAACE;wBAAQF,KAAK,CAACE,EAAE,IAAG,KACrG,GAAAC,gBAAA,CAAGH,KAAK,CAACI,KAAK;oCAEpBtB,mBAAA,CAGM,OAHNuB,UAGM,GAFHC,UAAyB,EACzBxB,mBAAA,CAAgD,MAAhDyB,UAAgD,EAAAJ,gBAAA,CAAnBd,IAAA,CAAAmB,UAAU,iB,KAG7C1B,mBAAA,CAOM,OAPN2B,UAOM,I,cANHb,mBAAA,CAGM;IAFHb,KAAK,EAAA2B,eAAA;MAAAC,SAAA,WAAwBtB,IAAA,CAAAuB,SAAS;IAAA;IAAQC,WAAS,EAAA1B,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAyB,gBAAA,IAAAzB,IAAA,CAAAyB,gBAAA,IAAA1B,IAAA,CAAgB;IAAGF,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE2B,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAA5B,IAAA,CAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}