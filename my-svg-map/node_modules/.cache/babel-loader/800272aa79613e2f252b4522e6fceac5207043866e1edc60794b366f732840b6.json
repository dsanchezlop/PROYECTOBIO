{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport * as d3 from \"d3\";\nexport default {\n  mounted() {\n    const svg = d3.select(this.$refs.chart).append(\"svg\").attr(\"width\", \"1009.6727\").attr(\"height\", \"665.96301\");\n    d3.xml(require(\"@/assets/world.svg\")).then(data => {\n      const importedNode = document.importNode(data.documentElement, true);\n      svg.node().appendChild(importedNode);\n      const paths = svg.selectAll(\"path\");\n      paths.on(\"click\", changeColorOnClick).on(\"mouseover\", changeColorOnHover).on(\"mouseout\", restoreColorOnHover);\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  setup() {\n    const selectedStates = ref([]);\n    return {\n      selectedStates\n    };\n  }\n};\nfunction changeColorOnClick(event) {\n  const path = event.target;\n  if (path.classList.contains(\"selectedPath\")) {\n    path.style.fill = \"black\";\n    path.classList.remove(\"selectedPath\");\n    selectedStates.value = selectedStates.value.filter(state => state.id !== path.id);\n  } else {\n    path.style.fill = \"green\";\n    path.classList.add(\"selectedPath\");\n    selectedStates.value.push({\n      id: path.id,\n      title: path.getAttribute(\"title\")\n    });\n    console.log(selectedStates.value);\n  }\n}\nfunction changeColorOnHover(event) {\n  const path = event.target;\n  if (!path.classList.contains(\"selectedPath\")) {\n    path.style.fill = \"purple\";\n    document.getElementById(\"hover-value\").textContent = path.getAttribute(\"title\");\n  }\n}\nfunction restoreColorOnHover(event) {\n  const path = event.target;\n  if (!path.classList.contains(\"selectedPath\")) {\n    path.style.fill = \"black\";\n  }\n}","map":{"version":3,"names":["ref","d3","mounted","svg","select","$refs","chart","append","attr","xml","require","then","data","importedNode","document","importNode","documentElement","node","appendChild","paths","selectAll","on","changeColorOnClick","changeColorOnHover","restoreColorOnHover","catch","error","console","setup","selectedStates","event","path","target","classList","contains","style","fill","remove","value","filter","state","id","add","push","title","getAttribute","log","getElementById","textContent"],"sources":["/home/lasmas/GitHub/PROYECTOBIO/my-svg-map/src/components/SVGMap.vue"],"sourcesContent":["<template>\n   <button class=\"button-zoom\" @click=\"zoomIn\">+</button>\n   <button class=\"button-zoom\" @click=\"zoomOut\">-</button>\n   <br />\n   <button class=\"button-container\" @click=\"clearSelection\">Clear Selection</button>\n \n   <div>\n     <h2>Selected Countries:</h2>\n     <div style=\"display:inline\">\n       <h4 v-for=\"state in selectedStates\" :key=\"state.id\">\n         {{ state.id }}: {{ state.title }}\n       </h4>\n     </div>\n     <div style=\"display:flex; text-align: center; align-items: center;\">\n       <h2>Hovered Country:</h2>\n       <h3 style=\"color: black\" id=\"hover-value\">Move your mouse</h3>\n     </div>\n   </div>\n   <div ref=\"chart\">\n     <svg></svg>\n   </div>\n </template>\n \n <script>\n import { ref } from \"vue\";\n import * as d3 from \"d3\";\n \n export default {\n   mounted() {\n     const svg = d3\n       .select(this.$refs.chart)\n       .append(\"svg\")\n       .attr(\"width\", \"1009.6727\")\n       .attr(\"height\", \"665.96301\");\n \n     d3.xml(require(\"@/assets/world.svg\"))\n       .then((data) => {\n         const importedNode = document.importNode(data.documentElement, true);\n         svg.node().appendChild(importedNode);\n \n         const paths = svg.selectAll(\"path\");\n \n         paths\n           .on(\"click\", changeColorOnClick)\n           .on(\"mouseover\", changeColorOnHover)\n           .on(\"mouseout\", restoreColorOnHover);\n       })\n       .catch((error) => {\n         console.error(error);\n       });\n   },\n   setup() {\n     const selectedStates = ref([]);\n     return { selectedStates };\n   },\n };\n \n function changeColorOnClick(event) {\n   const path = event.target;\n \n   if (path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"black\";\n     path.classList.remove(\"selectedPath\");\n     selectedStates.value = selectedStates.value.filter(\n       (state) => state.id !== path.id\n     );\n   } else {\n     path.style.fill = \"green\";\n     path.classList.add(\"selectedPath\");\n     selectedStates.value.push({ id: path.id, title: path.getAttribute(\"title\") });\n     console.log(selectedStates.value);\n   }\n }\n \n function changeColorOnHover(event) {\n   const path = event.target;\n   if (!path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"purple\";\n     document.getElementById(\"hover-value\").textContent = path.getAttribute(\n       \"title\"\n     );\n   }\n }\n \n function restoreColorOnHover(event) {\n   const path = event.target;\n \n   if (!path.classList.contains(\"selectedPath\")) {\n     path.style.fill = \"black\";\n   }\n }\n </script>\n\n<style scoped>\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n}\n\n.logo {\n   height: 6em;\n   padding: 1.5em;\n   will-change: filter;\n}\n\n.logo:hover {\n   filter: drop-shadow(0 0 2em #646cffaa);\n}\n\n.logo.vue:hover {\n   filter: drop-shadow(0 0 2em #42b883aa);\n}\n\n.map-container {\n   width: 100vw;\n   /* ancho al 100% de la ventana */\n   /* height: 100vh; altura al 100% de la ventana */\n   display: flex;\n   justify-content: center;\n   /* centro horizontal */\n   align-items: center;\n   /* centro vertical */\n}\n\n.button-container {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: fit-content;\n   height: fit-content;\n}\n\n.button-zoom {\n   position: relative;\n   z-index: 1;\n   margin-right: auto;\n   width: 2%;\n   height: 2%;\n}\n\n.draggeable {\n   cursor: move;\n}\n\n.selected {\n   fill: green;\n}\n\npath {\n   fill: black;\n   transition: fill 0.5s ease-in-out;\n}\n\n.selectedPath {\n   animation-name: slowchange;\n   animation-duration: 1.5s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n\npath:hover {\n   animation-name: hoverChange;\n   animation-duration: 1s;\n   animation-fill-mode: forwards;\n   transition: fill 0.5s ease-in-out;\n}\n</style>\n"],"mappings":";AAwBC,SAASA,GAAE,QAAS,KAAK;AACzB,OAAO,KAAKC,EAAC,MAAO,IAAI;AAExB,eAAe;EACbC,OAAOA,CAAA,EAAG;IACR,MAAMC,GAAE,GAAIF,EAAC,CACVG,MAAM,CAAC,IAAI,CAACC,KAAK,CAACC,KAAK,EACvBC,MAAM,CAAC,KAAK,EACZC,IAAI,CAAC,OAAO,EAAE,WAAW,EACzBA,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC;IAE9BP,EAAE,CAACQ,GAAG,CAACC,OAAO,CAAC,oBAAoB,CAAC,EACjCC,IAAI,CAAEC,IAAI,IAAK;MACd,MAAMC,YAAW,GAAIC,QAAQ,CAACC,UAAU,CAACH,IAAI,CAACI,eAAe,EAAE,IAAI,CAAC;MACpEb,GAAG,CAACc,IAAI,EAAE,CAACC,WAAW,CAACL,YAAY,CAAC;MAEpC,MAAMM,KAAI,GAAIhB,GAAG,CAACiB,SAAS,CAAC,MAAM,CAAC;MAEnCD,KAAI,CACDE,EAAE,CAAC,OAAO,EAAEC,kBAAkB,EAC9BD,EAAE,CAAC,WAAW,EAAEE,kBAAkB,EAClCF,EAAE,CAAC,UAAU,EAAEG,mBAAmB,CAAC;IACxC,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EACDE,KAAKA,CAAA,EAAG;IACN,MAAMC,cAAa,GAAI7B,GAAG,CAAC,EAAE,CAAC;IAC9B,OAAO;MAAE6B;IAAe,CAAC;EAC3B;AACF,CAAC;AAED,SAASP,kBAAkBA,CAACQ,KAAK,EAAE;EACjC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM;EAEzB,IAAID,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;IAC3CH,IAAI,CAACI,KAAK,CAACC,IAAG,GAAI,OAAO;IACzBL,IAAI,CAACE,SAAS,CAACI,MAAM,CAAC,cAAc,CAAC;IACrCR,cAAc,CAACS,KAAI,GAAIT,cAAc,CAACS,KAAK,CAACC,MAAM,CAC/CC,KAAK,IAAKA,KAAK,CAACC,EAAC,KAAMV,IAAI,CAACU,EAAC,CAC/B;EACH,OAAO;IACLV,IAAI,CAACI,KAAK,CAACC,IAAG,GAAI,OAAO;IACzBL,IAAI,CAACE,SAAS,CAACS,GAAG,CAAC,cAAc,CAAC;IAClCb,cAAc,CAACS,KAAK,CAACK,IAAI,CAAC;MAAEF,EAAE,EAAEV,IAAI,CAACU,EAAE;MAAEG,KAAK,EAAEb,IAAI,CAACc,YAAY,CAAC,OAAO;IAAE,CAAC,CAAC;IAC7ElB,OAAO,CAACmB,GAAG,CAACjB,cAAc,CAACS,KAAK,CAAC;EACnC;AACF;AAEA,SAASf,kBAAkBA,CAACO,KAAK,EAAE;EACjC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM;EACzB,IAAI,CAACD,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;IAC5CH,IAAI,CAACI,KAAK,CAACC,IAAG,GAAI,QAAQ;IAC1BtB,QAAQ,CAACiC,cAAc,CAAC,aAAa,CAAC,CAACC,WAAU,GAAIjB,IAAI,CAACc,YAAY,CACpE,OAAM,CACP;EACH;AACF;AAEA,SAASrB,mBAAmBA,CAACM,KAAK,EAAE;EAClC,MAAMC,IAAG,GAAID,KAAK,CAACE,MAAM;EAEzB,IAAI,CAACD,IAAI,CAACE,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,EAAE;IAC5CH,IAAI,CAACI,KAAK,CAACC,IAAG,GAAI,OAAO;EAC3B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}